# OtoFileManager功能需求统一和界面统一

内容：

* 1、项目简介
* 2、功能需求
* 3、项目计划

# 1、项目简介
　本应用属于Openthos项目的一部分，提供 Openthos 系统本地文件管理以及Seafile/owncloud云存储支持。

## 当前开发人员 (20161024-)
  王之旭 陈鹏 卢宁 罗俊欢 
 
# 2、功能需求

文件管理器主界面分为两个部分，左侧长条形状的为“快捷定位导航子面板”，单击子面板上的元素可以快速查看位置文件夹里的内容，文件夹的内容显示在右侧的文件编辑子面版，用户右键点击文件即可打开右键编辑菜单进行文件编辑。

## 文件管理器效果图

![](../master/pic/filemanager.png)
## 文件管理器功能模块

主界面，左侧导航栏，地址栏，搜索栏，个人空间，云服务，回收站，文件操作，文件选择，U盘的识别和卸载等	
### 右键编辑菜单说明

| 元素     | 操作      | 描述      |
| ---- |-------    |:---------| 
| 打开      | 单击    | 1.打开文件夹 2.自动查找并启动应用程序打开文件     |
| 打开方式   | 单击    | 在弹出的菜单中，选择相应的打开方式 |
| 复制	      | 单击	| 复制选中文件     |
| 剪切       | 单击   | 剪切选中文件     |
| 删除	      | 单击  | 删除选中文件，有文件删除提示     |
| 永久删除	  | 单击  | 删除选中文件，有文件删除提示     |
| 重命名      | 单击   | 重命名选中文件     |
| 发送        | 单击   | 在弹出的菜单中选择分享方式 |
| 复制路径     | 单击   | 复制当前文件或文件夹的路径     |
| 压缩	     | 单击	  | 压缩选中文件或文件夹 为 .rar或.zip文件    |
| 解压缩     | 单击    | 将选中的压缩格式文件，解压缩为正常格式的文件 |
| 详情       | 单击   | 显示文件信息，文件大小，文件修改日期，文件路径     |

### 按键响应

| 快捷键     | 对应操作       |
| ----      |-------       |
| Crtl+c	      | 复制                   |
| Crtl+x		     | 剪切	                 |
| Crtl+v	       | 粘贴	                 |
| Crtl+d	       | 放入回收站	           |
| Ctrl+a         | 全部选中              |
| Delete		     | 放入回收站		         |
| Shift+delete   | 永久删除	              |
| enter          | 进入文件夹或打开文件     |
| F2	           | 重命名                 |
| F5	           | 刷新	                  |


### 鼠标选框

1. 在空白部分单击鼠标并长按不松，进入绘制选框状态，移动鼠标会以鼠标现位置与起始位置为对角形成矩形选框，被矩形选框框中的文件会被选中。
2. 若单击长按的起始位置为文件图标或文件名等非空白部分，则不会出现选框，而是直接选择该文件并进入拖动状态。
3. 单击某文件之后松开，这时文件被选中，此时将鼠标放在选中的区域之上单击长按拖动，则这些选中的文件进入被拖动状态。
4. 其余设计到ctrl与shift的单击、框选等操作见鼠标操作部分

### 状态栏

1. 未选中任何项目：显示当前文件夹中项目个数
2. 选中文件夹：显示文件夹的容量大小，修改日期，包含项目个数
3. 选中文件：显示文件的容量大小，修改日期。图片文件，增加显示图片尺寸信息；视频文件：增加显示视频尺寸信息和时长；声音文件：增加显示时长。

### 地址栏

1. 显示当前文件夹的完整物理地址
2. 视图模式按钮
3. 分为详细列表模式和图标模式，点击后主面板进入相应模式显示。

### 搜索栏

1. 用户输入停止后,点击搜索按钮或敲击回车键，即可开启搜索。

### USB移动硬盘
1. 插入移动硬盘，资源管理器中显示盘符和U盘名称（如未命名则显示“未命名”）
2. 移除移动硬盘
  - 点击盘符右侧弹出按钮 可以安全弹出移动硬盘，并提示“USB移动硬盘已安全移除”。手工移除，提示“USB移动硬盘已被拔出”。

### 云服务

1. 系统默认存在文件夹“图片”和“文档”(均可删除)。
2. 云服务的系统默认目录为”/users/用户名/cloud”。
3. 当编辑并保存云服务文件夹中的文件时，自动同步最新版本的文件至云端。
4. 将文件/文件夹移入“云服务”文件夹：

  -	该文件/文件夹进入“云同步”队列，开始上传至云端。
  -	左侧快捷定位导航子面板中，云服务列表项的   图标在上传过程中旋转，表示正在上传的状态。
  -	当完成上传后，该文件/文件夹图标右下角会有   图标提示，表示完成上传的状态。 


#### 总体完成情况如下所示：
| 完成     | 描述     | 模块     |
| ---- |-------    |:---------| 
| √     | FileManager顶部导航栏                                                          | 功能     |
| √     | FileManager左侧面板                                                            | 功能     |
| √     | FileManager右侧文件列表                                                         | 功能     |
| √     | 云服务界面                                                                      | 功能     |
| √     | 右键菜单                                                                        | 功能     |
| √     | FileManager左侧USB列表                                                          | 功能     |
| √     | 属性显示界面                                                                     | 功能     |
| √     | 文件复制进度界面                                                                  | 功能     |
| √     | 目录前进、后退                                                                    | 功能     |
| √     | 鼠标点击区分单击和双击事件（单击锁定，双击打开)                                        | 功能     |
| √     | 两种本地文件浏览视图：图标形式，列表形式                                              | 功能     |
| √     | 右键菜单：打开、打开方式、刷新、新建文件夹、复制、剪切、粘贴、删除、重命名、属性             | 功能     |
| √     | 路径框（显示当前路径，输入路径)                                                      | 功能     |
| √     | 搜索框文件搜索                                                                     | 功能     |
| √     | 热键功能支持：Ctrl+C、Ctrl+V、Ctrl+A、Ctrl+X、Ctrl+D                                | 功能     |
| √     | U盘动态识别，手动弹出U盘                                                            | 功能     |
| √     | 压缩                                                                              | 功能     |
| √     | 解压缩                                                                            | 功能     |
| √     | 文件收藏                                                                           | 功能     |
| √     | 文件多选                                                                           | 功能     |
| √     | 文件拖拽                                                                           | 功能     |
| √     | 文件框选                                                                           | 功能     |
| √     | 网上邻居                                                                           | 功能     |
| √    | 撤销操作及Ctrl+Z热键                                                                | 功能      |
| √     | 支持可选择是否显示隐藏文件                                                            | 功能     |
| √    | Seafile文件/文件夹自动同步                                                           | 功能      |
| √     | Seafile显示文件目录列表盘                                                            | 功能     |
| √     | Seafile增加/解除同步文件夹                                                           | 功能     |
| √    | Seafile文件/文件夹的上传、下载                                                        | 功能     |
| √     | Owncloud文件/文件夹自动同步                                                          | 功能     |
| √    | Owncloud显示文件目录列表盘                                                           | 功能      |
| √     | Owncloud增加/解除同步文件夹                                                          | 功能     |
| √     | Owncloud文件/文件夹的上传、下载                                                       | 功能     |


